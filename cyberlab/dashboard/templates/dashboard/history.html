{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Submission History | CyberLabs</title>
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
</head>

<body class="dashboard-body">

    <!-- Header -->
    <header class="dashboard-header">
        <a href="{% url 'dashboard' %}" class="logo-link">CyberLabs</a>
        <div class="header-user">
            <span class="header-username">{{ user.username }}</span>
            <a href="{% url 'logout' %}" class="btn soft-btn">Logout</a>
        </div>
    </header>

    <!-- Page Layout -->
    <div class="dashboard-layout">

        <!-- Sidebar -->
        <aside class="sidebar">
            <nav class="sidebar-nav">
                <a href="{% url 'dashboard' %}" class="sidebar-link">
                    <span class="sidebar-icon">&#128506;</span> Learning Paths
                </a>
                <a href="#" class="sidebar-link disabled">
                    <span class="sidebar-icon">&#128295;</span> Tools
                </a>
                <a href="#" class="sidebar-link disabled">
                    <span class="sidebar-icon">&#9876;</span> Challenges
                </a>
                <a href="{% url 'history' %}" class="sidebar-link active">
                    <span class="sidebar-icon">&#128196;</span> History
                </a>
                <a href="#" class="sidebar-link disabled">
                    <span class="sidebar-icon">&#127942;</span> Leaderboard
                </a>
                <a href="{% url 'profile' %}" class="sidebar-link">
                    <span class="sidebar-icon">&#128100;</span> Profile
                </a>
            </nav>
        </aside>

        <main class="dashboard-main">
            <div class="profile-container">

                <div class="profile-section">
                    <h2 class="profile-section-title">Submission History</h2>
                    <div class="profile-card">
                        {% if submissions %}
                            {% for sub in submissions %}
                            <div class="profile-row">
                                <span class="profile-label">{{ sub.problem.problem_title }}</span>
                                <span class="profile-value">
                                    {% if sub.correct %}
                                        <span class="profile-badge active-badge">&#10003; Correct</span>
                                    {% else %}
                                        <span class="profile-badge inactive-badge">&#10007; Incorrect</span>
                                    {% endif %}
                                </span>
                                <span class="profile-value">{{ sub.submitted_at|date:"M j, Y g:i a" }}</span>
                            </div>
                            {% endfor %}
                        {% else %}
                            <div class="profile-row">
                                <span class="profile-label">No submissions yet.</span>
                            </div>
                        {% endif %}
                    </div>
                </div>

            </div>
        </main>
    </div>

</body>
</html>
